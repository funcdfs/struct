:root{
  --bg: #0f1720;
  --surface: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  --panel: rgba(18,20,24,0.6);
  --muted: rgba(255,255,255,0.65);
  --accent: #6c7cff;
  --glass-border: rgba(255,255,255,0.06);
  --success: #40c057;
  --radius: 12px;
  --shadow: 0 6px 24px rgba(2,6,23,0.6);
}

/* Layout container */
.app-container{
  min-height: 100vh;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding: 28px;
  background: radial-gradient(1200px 600px at 10% 10%, rgba(108,124,255,0.06), transparent), var(--bg);
  color: var(--muted);
}

.main-content{
  width: min(1100px, 94vw);
  display: grid;
  grid-template-columns: 1fr 360px;
  gap: 24px;
  align-items: start; /* keep children top-aligned */
}

/* Editors column (center) */
.editors-section{
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.action-buttons{
  display:flex;
  justify-content: center; /* center the save button above editors */
  margin-bottom: 6px;
}

.generate-button{
  background: rgba(108,124,255,0.06);
  color: var(--accent);
  padding: 8px 12px;
  border-radius: 10px;
  box-shadow: none;
  border: 1px solid rgba(108,124,255,0.12);
  transition: transform .12s ease, background .12s ease, color .12s ease;
}
.generate-button:hover{ transform: translateY(-2px); background: rgba(108,124,255,0.12); }
.generate-button:active{ transform: translateY(0); }
.generate-button .shortcut{ margin-left: 8px; opacity: 0.9; font-size: 0.9em; }

.editors-row{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  min-height: 360px; /* unify with sidebar preview */
}

.editor-card{
  background: var(--panel);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  border: 1px solid var(--glass-border);
  min-height: 360px; /* ensure editors align with preview */
}

.editor-header{
  padding: 10px 14px;
  border-bottom: 1px solid rgba(255,255,255,0.03);
  display:flex;
  align-items:center;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
}
.editor-header h2{ margin:0; color: #dfe6ff; font-weight:600; font-size:0.98rem; }

.editor-container{
  height: calc(100% - 56px); /* allow header + container to fill card */
  background: linear-gradient(180deg, rgba(8,10,12,0.65), rgba(10,12,14,0.6));
  border-radius: 0 0 var(--radius) var(--radius);
  overflow: hidden;
}

/* Monaco editor visual tweaks to remove warm/yellow tones and unify background */
.editor-container .monaco-editor .monaco-scrollable-element,
.editor-container .monaco-editor .editor-background,
.editor-container .monaco-editor .margin {
  background-color: rgba(8,10,12,0.56) !important;
}
.editor-container .monaco-editor .view-lines {
  background-color: transparent !important;
}
.editor-container .monaco-editor .line-numbers {
  color: rgba(255,255,255,0.18) !important;
}

.diff-container{
  height: 220px;
  border-radius: var(--radius);
  overflow: hidden;
  background: rgba(12,14,18,0.6);
  border: 1px solid rgba(255,255,255,0.04);
  box-shadow: 0 10px 30px rgba(3,6,12,0.6);
}

/* Sidebar (right) */
.sidebar{
  display:flex;
  flex-direction: column;
  gap: 16px;
}

.preview-section{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.04);
  padding: 12px;
  box-shadow: 0 10px 26px rgba(2,6,23,0.5);
  min-height: 360px; /* match editors */
  margin-top: 12px; /* breathing room from top */
  display:flex;
  flex-direction: column;
}

.preview-header{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding: 4px 4px 8px 4px; }
.preview-header h2{ margin:0; color: #e9ecff; font-size:1rem }

.copy-button{
  background: transparent;
  border: 1px solid rgba(255,255,255,0.06);
  color: var(--muted);
  padding: 6px 10px;
  border-radius: 10px;
  cursor: pointer;
  transition: background .12s ease, color .12s ease, transform .12s ease;
}
.copy-button:hover{ background: rgba(255,255,255,0.02); transform: translateY(-1px); }
.copy-button.success{ border-color: rgba(64,192,87,0.14); color: var(--success); }

.preview-container{
  flex:1;
  margin-top: 8px;
  border-radius: 8px;
  overflow: hidden;
  background: rgba(10,12,16,0.35);
  display:flex;
  flex-direction: column;
  color: rgba(255,255,255,0.7);
  padding: 0; /* removed extra padding so editor can fill */
}
.preview-container h2{ margin:12px; font-weight:500; opacity:0.9 }

/* Ensure Monaco editor and its direct children fill the preview area */
.preview-container .monaco-editor, .preview-container > .monaco-editor, .preview-container > div {
  height: 100% !important;
}

.testcase-list{
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.03);
  padding: 10px;
  max-height: 220px; /* keep below preview and avoid pushing layout */
  overflow: auto;
}
.testcase-header h2{ margin:0; color: #e9ecff; font-size:1rem }

.testcase-content{ display:flex; flex-direction: column; gap:8px; margin-top:8px }
.testcase-item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  padding: 8px 10px;
  border-radius: 10px;
  background: transparent;
  transition: background .12s ease, transform .12s ease;
  cursor: pointer;
}
.testcase-item:hover{ background: rgba(255,255,255,0.02); transform: translateY(-1px); }
.testcase-item.selected{ background: rgba(108,124,255,0.12); box-shadow: 0 8px 24px rgba(88,96,240,0.06); }

.testcase-name{ color: #e8eefe; font-weight:500; user-select:none }
.testcase-name-input{ width:100%; padding:6px 8px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); background: rgba(0,0,0,0.25); color: #fff }

.delete-button{
  background: transparent;
  border: none;
  color: rgba(255,255,255,0.5);
  font-size: 18px;
  line-height: 1;
  padding: 4px 8px;
  border-radius: 8px;
  cursor: pointer;
}
.delete-button:hover{ color: #ff8b8b; background: rgba(255,255,255,0.02); }

.testcase-empty{ padding: 18px; text-align:center; color: rgba(255,255,255,0.5); }

/* Responsive */
@media (max-width: 980px){
  .main-content{ grid-template-columns: 1fr; }
  .sidebar{ order: 2; }
  .editors-section{ order: 1; }
  .editor-container{ height: 260px }
  .preview-container{ min-height: 160px }
}

/* Monaco editor tweaks - make editor fill its container */
.monaco-editor, .editor-container > div{ height:100% !important; }

/* small helper */
.shortcut{ opacity:0.9; font-size:0.85rem }

/* Light theme adjustments */
@media (prefers-color-scheme: light){
  :root{ --bg: #f6f8ff; --panel: rgba(255,255,255,0.9); --muted: #2b3a4a; --glass-border: rgba(0,0,0,0.06); --shadow: 0 8px 30px rgba(30,50,80,0.06); }
  .app-container{ background: linear-gradient(120deg, rgba(108,124,255,0.06), transparent); }
  .generate-button{ box-shadow: 0 6px 18px rgba(108,124,255,0.12); }
}
